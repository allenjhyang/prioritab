/*! jQuery pub/sub plugin by Peter Higgins * https://github.com/phiggins42/bloody-jquery-plugins/blob/master/pubsub.js * Modified by Tobin Bradley * AFL/BSD Licensed */
(function(d){var cache={};d.publish=function(topic,args){cache[topic]&&d.each(cache[topic],function(){try{this.apply(d,args||[])}catch(err){console.log(err)}})};d.subscribe=function(topic,callback){if(!cache[topic]){cache[topic]=[]}
cache[topic].push(callback);return[topic,callback]};d.unsubscribe=function(topic,callback){cache[topic]&&d.each(cache[topic],function(idx){if(this==callback){cache[topic].splice(idx,1)}})};d.subscribers=function(topic){l=[];cache[topic]&&d.each(cache[topic],function(idx){l.push(this.name)});return l}})(jQuery)